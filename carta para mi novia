<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Carta para mi amor kitty</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Great+Vibes&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --vino-oscuro: #2b0012;
            --vino: #4b0e1f;
            --vino-claro: #7a1e3a;
            --accent: #ffb6c1;
            --blanco: #fff;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            margin: 0;
        }

        body {
            font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
            color: var(--blanco);
            background:
                radial-gradient(circle at 30% 20%, #ffd6e0, transparent 50%),
                radial-gradient(circle at 80% 80%, #ff9fb3, transparent 40%),
                linear-gradient(160deg, #7a1e3a, #ff5c8d);
            overflow: hidden;
        }

        .hearts {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            top: -10vh;
            font-size: 14px;
            opacity: .75;
            filter: drop-shadow(0 4px 6px #0006);
            animation: fall linear forwards;
        }

        @keyframes fall {
            to {
                transform: translateY(120vh) rotate(360deg);
                opacity: .95
            }
        }

        .wrap {
            position: relative;
            z-index: 2;
            height: 100%;
            display: grid;
            place-items: center;
            padding: 1.25rem;
        }

        .card {
            width: min(680px, 92vw);
            background: linear-gradient(180deg, #ffffff08, #00000022);
            border: 1px solid #ffffff22;
            border-radius: 24px;
            padding: 22px;
            box-shadow: 0 20px 60px #0008, inset 0 1px 0 #ffffff22;
            backdrop-filter: blur(6px);
        }

        .header {
            text-align: center;
            margin-bottom: 12px;
        }

        .header h1 {
            font-family: "Franklin Gothic Medium", cursive;
            font-size: clamp(15px, 5vw, 25px);
            line-height: 1;
            margin: .2em 0 .35em;
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.533);
        }

        .envelope {
            position: relative;
            width: min(500px, 90vw);
            height: 280px;
            margin: 20px auto;
            perspective: 1200px;
        }

        .env-body {
            position: absolute;
            inset: 0;
            border-radius: 18px;
            background: linear-gradient(180deg, #fff0f4, #ffc5d1 60%, #ff9fb3);
            border: 2px solid #ffd6df;
            box-shadow: 0 10px 28px #0005, inset 0 1px 0 #fff6;
            overflow: hidden;
        }

        .env-flap {
            position: absolute;
            inset: 0;
            clip-path: polygon(0 0, 100% 0, 50% 65%);
            background: linear-gradient(180deg, #ffb5c4, #ff9fb2);
            border-top-left-radius: 18px;
            border-top-right-radius: 18px;
            transform-origin: top center;
            transition: transform 1s cubic-bezier(.19, 1, .22, 1), box-shadow 1s;
            box-shadow: inset 0 -2px 6px #0003;
            z-index: 2;
        }

        .envelope.open .env-flap {
            transform: rotateX(-180deg);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .seal {
            position: absolute;
            top: 130px;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            height: 70px;
            background: #b30e35;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 3;
        }

        .seal.hide {
            opacity: 0;
            transform: scale(0.3);
        }

        .btn-open {
            position: absolute;
            top: calc(100% + 30px);
            left: 50%;
            transform: translateX(-50%);
            padding: 0.8rem 1.2rem;
            border-radius: 999px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            background: linear-gradient(180deg, #fff, #ffd7e0);
            color: #7a1e3a;
            box-shadow: 0 10px 24px #0005;
            transition: 0.25s;
            z-index: 4;
        }

        .paper {
            position: absolute;
            top: 290%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 90%;
            max-height: 86vh;
            opacity: 0;
            color: #4b2a1e;

            background-color: #fdf6e3;
            background-image:
                linear-gradient(0deg, rgba(0, 0, 0, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 0, 0, 0.02) 1px, transparent 1px),
                radial-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px);
            background-size: 3px 3px, 3px 3px, 10px 10px;

            border-radius: 0;
            border: 1px solid #e0d4c0;
            padding: 25px;
            box-shadow:
                0 5px 15px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 #ffffff50,
                inset 0 -1px 0 #dcd0b0;

            transition: transform 0.7s ease, opacity 0.7s ease;
            overflow: auto;
            z-index: 1;
        }

        .envelope.open .paper {
            transform: translate(-50%, -150%) scale(1);
            opacity: 1;
            z-index: 2;
        }

        .paper h2 {
            font-family: "Great Vibes", cursive;
            color: #7a1e3a;
            font-size: clamp(28px, 5vw, 48px);
            margin: .1em 0 .2em;
            text-align: left;
        }

        .paper p {
            font-size: 14px;
            line-height: 1.8;
            margin: .5em 0;
            text-align: left;
        }

        .signature {
            margin-top: 1rem;
            font-weight: 700;
            color: #7a1e3a;
            text-align: left;
        }

        .controls {
            position: fixed;
            right: 14px;
            bottom: 14px;
            z-index: 20;
            display: flex;
            gap: .6rem;
            flex-wrap: wrap;
        }

        .pill {
            border: none;
            border-radius: 999px;
            padding: .65rem 1rem;
            cursor: pointer;
            background: #ffffff;
            color: #6c1230;
            font-weight: 700;
            box-shadow: 0 10px 24px #0007;
        }
    </style>
</head>

<body>

    <div class="hearts" id="hearts"></div>

    <div class="wrap">
        <div class="card">
            <div class="header">
                <h1>Para mi amorcito linda Kitty, con todo mi coraz√≥n üíå</h1>
            </div>

            <div class="envelope" id="envelope">
                <div class="env-body"></div>
                <div class="seal" id="seal">ü§ç</div>
                <div class="env-flap" id="flap"></div>

                <article class="paper">
                    <h2>Mi amorcito</h2>
                    <p>Yo se que estos meses han sido perfectos, desde que llegaste a mi vida, mi vida tambi√©n cambio mucho a tu lado, estoy aprendiendo cosas que
                        yo mismo consideraba ser perfecto, pero me falta aprender mas de la vida, he conocido mucho de ti, tu familia, desde el principio cuando, habl√°bamos por texto, todo.
                        La verdad se que las relaciones de pareja suelen ser muy cambiantes durante los meses, pero yo no quiero que pase nada malo entre nosotros, al contrario, quiero cambiar pero en el buen camino
                        si hay momentos dif√≠ciles, nosotros dos somos capaces de resolverlo a estos problemas, por algo llevamos 5 meses juntos exactamente 5m y 3d. As√≠ que piensa que tienes un gran hombre a tu lado
                        simplemente necesita aprender de sus errores para poder seguir siendo felices juntos, tu misma sabias que ese hombre (Slaether) te hizo feliz el primer d√≠a, y diste toda tu confianza en seguir creciendo juntos
                        hasta el d√≠a de hoy, se que hay momentos malos, pero todo es moment√°neo, as√≠ que sigamos luchando juntos, el estr√©s, la angustia, la paz, el equilibrio, es parte de crecer como pareja, mi amor, yo te 
                        amo con todo mi coraz√≥n, y seguir√© siendo un buen hombre a tu lado.</p>
                    <p>He vivido muchas experiencias malas desde que era ni√±o, viendo a mi madre sufrir de la toxicidad al lado de su pareja, por muchos a√±os, ha sido dif√≠cil para mi y muchas cosas mas.
                        Por eso creo que soy un hombre de pareja muy feliz, comprensivo, relajado, ya que necesito la paz, vivir tiempo de calidad
                        con alguien quien realmente yo amo, y para mi 5 meses felices est√°n siendo los mejores
                        No quiero que la distancia nos haga cambiar de opini√≥n, debemos pensar en que estaremos juntos el tiempo que haya que esperar
                        Cada dia, momento, tiempo, clima, todo, vale la pena estar contigo, lo que me importa es amarte y pese a todo, seguir a tu lado.</p>
                    <p class="signature">Con amor, Tu latino de Costa Rica ‚ù§Ô∏è</p>
                </article>
            </div>

            <button class="btn-open" id="openBtn" type="button">Abrir carta</button>
        </div>
    </div>

    <div class="controls">
        <button class="pill" id="closeBtn" type="button" style="display:none">‚úñ Cerrar</button>
    </div>

    <script>
        (function heartsRain() {
            const container = document.getElementById('hearts');
            const symbols = ['üíó'];
            const N = 28;
            for (let i = 0; i < N; i++) {
                const h = document.createElement('div');
                h.className = 'heart';
                h.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                const left = Math.random() * 100;
                const duration = 6 + Math.random() * 8;
                const delay = Math.random() * 6;
                const size = 14 + Math.random() * 24;
                h.style.left = left + 'vw';
                h.style.animationDuration = duration + 's';
                h.style.animationDelay = delay + 's';
                h.style.fontSize = size + 'px';
                container.appendChild(h);
                h.addEventListener('animationend', () => {
                    h.style.animationDelay = (Math.random() * 4) + 's';
                    h.style.animationDuration = (6 + Math.random() * 8) + 's';
                    h.style.left = (Math.random() * 100) + 'vw';
                    h.style.fontSize = (14 + Math.random() * 24) + 'px';
                    h.style.animationName = 'none';
                    void h.offsetWidth;
                    h.style.animationName = 'fall';
                });
            }
        })();

        const envelope = document.getElementById("envelope");
        const openBtn = document.getElementById("openBtn");
        const closeBtn = document.getElementById("closeBtn");
        const seal = document.getElementById("seal");

        openBtn.addEventListener("click", () => {
            seal.classList.add("hide");
            envelope.classList.add("open");
            openBtn.style.display = "none";
            closeBtn.style.display = "inline-flex";
        });

        closeBtn.addEventListener("click", () => {
            envelope.classList.remove("open");
            seal.classList.remove("hide");
            closeBtn.style.display = "none";
            openBtn.style.display = "inline-block";
        });
    </script>
    <audio id="musica" autoplay loop>
        <source src="cancion.mp3" type="audio/mpeg">
    </audio>
    <script>
  (function () {
    const musica = document.getElementById("musica");

    function playMusic() {
      if (!musica) return;
      musica.play().catch(() => {});
    }

    // Intenta al cargar (a veces funciona)
    window.addEventListener("load", playMusic);

    // Si el navegador lo bloquea, con el primer clic/tap/tecla arranca seguro
    document.addEventListener("click", playMusic, { once: true });
    document.addEventListener("touchstart", playMusic, { once: true });
    document.addEventListener("keydown", playMusic, { once: true });

    // Extra: cuando le den a "Abrir carta" (sin tocar tu JS)
    const openBtn = document.getElementById("openBtn");
    if (openBtn) openBtn.addEventListener("click", playMusic);
  })();
</script>
</body>

</html>
